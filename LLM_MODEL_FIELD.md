# Добавление поля выбора модели LLM

## Обзор изменений

Добавлено поле для выбора модели LLM в интерфейсе расширения, что позволяет пользователям выбирать конкретную модель для анализа объявлений.

## Новые функции

### 1. Поле выбора модели LLM
- **Поле ввода**: "Модель LLM" в интерфейсе настроек
- **Значение по умолчанию**: `gpt-3.5-turbo`
- **Примеры поддерживаемых моделей**: 
  - `gpt-3.5-turbo`
  - `gpt-4`
  - `claude-3-sonnet`
  - `claude-3-haiku`
  - Любые другие OpenAI-compatible модели

### 2. Автоматическое сохранение
- Поле автоматически сохраняется при изменении
- Значение сохраняется в настройках расширения
- Загружается при открытии popup

### 3. Интеграция с LLM API
- Выбранная модель корректно передается в запрос к LLM API
- Логирование используемой модели для отладки
- Fallback на `gpt-3.5-turbo` если модель не указана

## Технические детали

### Структура запроса к LLM API
```json
{
  "model": "выбранная_модель_пользователем",
  "messages": [
    {
      "role": "system",
      "content": "системный промпт"
    },
    {
      "role": "user", 
      "content": "данные объявления"
    }
  ],
  "temperature": 0.1,
  "max_tokens": 100
}
```

### Обработка настроек
- Поле `llmModel` добавлено в настройки по умолчанию
- Автоматическое сохранение при изменении поля
- Загрузка сохраненного значения при инициализации

## Файлы изменены

- `popup.html` - добавлено поле ввода модели LLM
- `popup.js` - логика работы с полем модели
- `background.js` - использование выбранной модели в запросах к API

## Использование

1. Откройте popup расширения
2. В поле "Модель LLM" введите название модели (например: `gpt-4`)
3. Настройки автоматически сохранятся
4. При анализе объявлений будет использоваться выбранная модель

## Логирование

Добавлено подробное логирование:
- Используемая модель отображается в консоли
- Полная информация о запросе к LLM API
- Отладочная информация для мониторинга

## Совместимость

- Поддерживает все OpenAI-compatible API
- Работает с любыми моделями, поддерживаемыми API сервером
- Graceful fallback при отсутствии настройки модели
