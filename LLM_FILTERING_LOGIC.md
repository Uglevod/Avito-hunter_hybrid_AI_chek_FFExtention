# –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ LLM

## –û–±–∑–æ—Ä

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ —Ç–æ–º, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ª–∏ –∏—Ö –≤ Telegram –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM API.

## –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

### 1. –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ LLM API

–ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ LLM API —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "model": "–≤—ã–±—Ä–∞–Ω–Ω–∞—è_–º–æ–¥–µ–ª—å",
  "messages": [
    {
      "role": "system",
      "content": "—Å–∏—Å—Ç–µ–º–Ω—ã–π_–ø—Ä–æ–º–ø—Ç"
    },
    {
      "role": "user",
      "content": "–¥–∞–Ω–Ω—ã–µ_–æ–±—ä—è–≤–ª–µ–Ω–∏—è"
    }
  ]
}
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ LLM

#### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: `{"good": true}`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: `{ shouldSend: true, llmApproved: true }`
- **–î–µ–π—Å—Ç–≤–∏–µ**: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- **–ü–æ–º–µ—Ç–∫–∞**: –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–º–µ—Ç–∫—É "(LLM checked)" –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

#### ‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: `{"good": false}`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: `{ shouldSend: false, llmApproved: false }`
- **–î–µ–π—Å—Ç–≤–∏–µ**: –û–±—ä—è–≤–ª–µ–Ω–∏–µ **–ò–°–ö–õ–Æ–ß–ê–ï–¢–°–Ø** –∏–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- **–ü–æ–º–µ—Ç–∫–∞**: –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram –≤–æ–æ–±—â–µ

#### ‚ö†Ô∏è –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: `{ shouldSend: true, llmApproved: false }`
- **–î–µ–π—Å—Ç–≤–∏–µ**: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram –±–µ–∑ –ø–æ–º–µ—Ç–∫–∏
- **–ü—Ä–∏—á–∏–Ω–∞**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –ª—É—á—à–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å, —á–µ–º –ø–æ—Ç–µ—Ä—è—Ç—å

#### üö´ –û—à–∏–±–∫–∞ LLM API
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: `{ shouldSend: true, llmApproved: false }`
- **–î–µ–π—Å—Ç–≤–∏–µ**: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram –±–µ–∑ –ø–æ–º–µ—Ç–∫–∏
- **–ü—Ä–∏—á–∏–Ω–∞**: Fallback –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å LLM

### 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π

```javascript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥ –ª–æ–≥–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
for (let item of newItems) {
  const analysis = await analyzeItemWithLLM(item);
  
  if (analysis.shouldSend === true) {
    // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    filteredItems.push({
      ...item,
      llmApproved: analysis.llmApproved
    });
  } else {
    // –ò–°–ö–õ–Æ–ß–ê–ï–ú –∏–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏
    console.log(`–û–±—ä—è–≤–ª–µ–Ω–∏–µ "${item.title}" –ù–ï –ø—Ä–æ—à–ª–æ LLM —Ñ–∏–ª—å—Ç—Ä`);
  }
}
```

### 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram

–¢–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ `filteredItems` –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram:

```javascript
if (filteredItems.length === 0) {
  console.log('–í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –±—ã–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã LLM');
  return; // –ù–∏—á–µ–≥–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º
}

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
await sendTelegramMessage(filteredItems);
```

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: LLM –æ–¥–æ–±—Ä—è–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
1. LLM –ø–æ–ª—É—á–∞–µ—Ç: `{"good": true}`
2. –†–µ–∑—É–ª—å—Ç–∞—Ç: `{ shouldSend: true, llmApproved: true }`
3. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram —Å –ø–æ–º–µ—Ç–∫–æ–π "(LLM checked)"

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: LLM –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
1. LLM –ø–æ–ª—É—á–∞–µ—Ç: `{"good": false}`
2. –†–µ–∑—É–ª—å—Ç–∞—Ç: `{ shouldSend: false, llmApproved: false }`
3. –û–±—ä—è–≤–ª–µ–Ω–∏–µ **–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** –≤ Telegram

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã
1. LLM –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è: `{"good": false}`
2. `filteredItems.length === 0`
3. **–ù–∏—á–µ–≥–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** –≤ Telegram

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- `LLM —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ` - –¥–ª—è `{"good": true}`
- `LLM –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ` - –¥–ª—è `{"good": false}`
- `–û–±—ä—è–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –ò–°–ö–õ–Æ–ß–ï–ù–û –∏–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏` - –¥–ª—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö
- `–ü–æ—Å–ª–µ LLM —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ—Å—Ç–∞–ª–æ—Å—å X –∏–∑ Y —ç–ª–µ–º–µ–Ω—Ç–æ–≤` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö LLM API –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è (fail-safe)
- –ü—Ä–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –æ—Ç–≤–µ—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- –¢–æ–ª—å–∫–æ —è–≤–Ω—ã–π `{"good": false}` –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã LLM —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
1. LLM API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{"good": true/false}`
