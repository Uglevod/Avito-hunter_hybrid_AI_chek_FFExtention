# –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ LLM (Structured Outputs)

## üéØ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `response_format` –∏ `structured_outputs` –≤ –∑–∞–ø—Ä–æ—Å—ã –∫ LLM API –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è JSON –æ—Ç–≤–µ—Ç–∞.

## üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### response_format

```json
{
  "response_format": {
    "type": "json_object"
  }
}
```

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–∏–Ω—É–∂–¥–∞–µ—Ç –º–æ–¥–µ–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –í–∫–ª—é—á–∞–µ—Ç JSON —Ä–µ–∂–∏–º
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω—ã–π JSON
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –º–æ–¥–µ–ª—è–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º–∏ JSON mode

### structured_outputs

```json
{
  "structured_outputs": true
}
```

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–µ–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É—è `response_format`.
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π boolean –ø–∞—Ä–∞–º–µ—Ç—Ä
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–µ —Å–æ –≤—Å–µ–º–∏ –º–æ–¥–µ–ª—è–º–∏
- –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –º–æ–¥–µ–ª–µ LLM

## üîß –ü–æ–ª–Ω—ã–π –∑–∞–ø—Ä–æ—Å

```javascript
const requestBody = {
  model: "z-ai/glm-4.5-air",
  messages: [
    {
      role: "system",
      content: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—á–∞–π JSON: {\"good\": true/false}"
    },
    {
      role: "user",
      content: "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ..."
    }
  ],
  temperature: 0.1,
  max_tokens: 100,
  // –ù–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
  response_format: {
    type: "json_object"
  },
  structured_outputs: true
};
```

## ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–µ–ª–µ–π

### –ú–æ–¥–µ–ª–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ JSON mode:
- ‚úÖ OpenAI GPT-4, GPT-3.5-turbo
- ‚úÖ Z.AI GLM-4.5 –∏ –≤—ã—à–µ
- ‚úÖ Anthropic Claude 3
- ‚úÖ Google Gemini

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–î–ª—è JSON –≥–∞—Ä–∞–Ω—Ç–∏–∏** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `response_format`
2. **–î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –≤–∫–ª—é—á–∏—Ç–µ `structured_outputs: true`
3. **–í —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–º–ø—Ç–µ** - —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–µ–Ω JSON –æ—Ç–≤–µ—Ç

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|---------|
| üéØ –ì–∞—Ä–∞–Ω—Ç–∏—è JSON | –ú–æ–¥–µ–ª—å –æ–±—è–∑–∞–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π JSON |
| üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –≤ –æ–∂–∏–¥–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ |
| üîç –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ |
| ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ú–æ–¥–µ–ª—å –Ω–µ —Ç—Ä–∞—Ç–∏—Ç —Ç–æ–∫–µ–Ω—ã –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

## üîÑ –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏

```
–ó–∞–ø—Ä–æ—Å –∫ LLM API
    ‚Üì
response_format: { type: "json_object" }
structured_outputs: true
    ‚Üì
LLM –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç JSON –æ—Ç–≤–µ—Ç
    ‚Üì
–û—Ç–≤–µ—Ç –≤—Å–µ–≥–¥–∞ –ø–∞—Ä—Å–∏—Ç—Å—è
    ‚Üì
{"good": true/false}
    ‚Üì
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
```

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
1. API –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É –æ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
2. –ó–∞–ø—Ä–æ—Å –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –±–µ–∑ `structured_outputs`
3. Fallback –Ω–∞ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ JSON

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
```
Avito Hunter: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ LLM API:
  url: https://api.example.com/v1/chat/completions
  headers: { Content-Type: application/json, ... }
  body: { model, messages, response_format, structured_outputs, ... }
```

## üéØ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### Current Settings:
```javascript
{
  temperature: 0.1,      // –ù–∏–∑–∫–∞—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
  max_tokens: 100,       // –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è {"good": true/false}
  response_format: {
    type: "json_object"  // –ì–∞—Ä–∞–Ω—Ç–∏—è JSON
  },
  structured_outputs: true  // –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
}
```

### –ü–æ—á–µ–º—É —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã:
- ‚úÖ `temperature: 0.1` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- ‚úÖ `max_tokens: 100` - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ—Ç–≤–µ—Ç–∞, —ç–∫–æ–Ω–æ–º–∏—Ç —Ç–æ–∫–µ–Ω—ã
- ‚úÖ `response_format` - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç JSON
- ‚úÖ `structured_outputs` - –ø–æ–≤—ã—à–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

## üìö –ü—Ä–∏–º–µ—Ä—ã

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "message": {
    "role": "assistant",
    "content": "{\"good\": false}"
  }
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞:
1. –ò–∑–≤–ª–µ–∫–∞–µ–º `content`
2. –ü–∞—Ä—Å–∏–º JSON
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º `good: true/false`
4. –§–∏–ª—å—Ç—Ä—É–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏—è

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∞–ª–∏–¥–Ω—ã–π JSON –æ—Ç–≤–µ—Ç –æ—Ç LLM, —á—Ç–æ:
- –°–Ω–∏–∂–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –£–ª—É—á—à–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–µ–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
